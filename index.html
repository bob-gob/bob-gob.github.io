<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elite 4 | Owner Portal</title>
    <style>
        :root { --neon-blue: #00d4ff; --neon-green: #39FF14; --neon-red: #ff4d4d; }
        body { background: #0b101b; color: white; font-family: 'Courier New', monospace; margin: 0; overflow: hidden; display: flex; justify-content: center; align-items: center; min-height: 100vh; }
        
        .box { border: 2px solid var(--neon-blue); padding: 30px; border-radius: 15px; background: rgba(0,0,0,0.95); text-align: center; width: 90%; max-width: 500px; }
        input { background: #000; border: 1px solid var(--neon-blue); color: var(--neon-green); padding: 12px; width: 80%; text-align: center; outline: none; margin: 15px 0; font-size: 1.2em; }
        
        button { cursor: pointer; font-weight: bold; transition: 0.3s; border: none; padding: 10px 20px; }
        button:disabled { background: #444 !important; color: #888 !important; cursor: not-allowed; }
        .btn-blue { background: var(--neon-blue); color: black; }
        .btn-red { background: var(--neon-red); color: white; }
        .btn-light-blue { background: #add8e6; color: black; }
        
        .screen { display: none; width: 100%; height: 100vh; justify-content: center; align-items: center; flex-direction: column; position: absolute; }
        
        .spinner { border: 5px solid rgba(0,212,255,0.1); border-left-color: var(--neon-green); border-radius: 50%; width: 50px; height: 50px; animation: spin 1s linear infinite; margin-bottom: 20px; }
        @keyframes spin { 100% { transform: rotate(360deg); } }

        .fade-text { color: var(--neon-green); font-size: 1.8em; animation: pulse 2.5s infinite; text-shadow: 0 0 10px var(--neon-green); }
        @keyframes pulse { 0%, 100% { opacity: 0.1; } 50% { opacity: 1; } }

        .dashboard-container { width: 95%; max-width: 1100px; height: 90vh; overflow-y: auto; background: rgba(0,0,0,0.8); border: 1px solid var(--neon-blue); padding: 20px; display: flex; flex-direction: column; align-items: center; }
        .nav-header { width: 100%; display: flex; justify-content: flex-end; margin-bottom: 20px; }
        .project-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; width: 100%; }
        .project-box { border: 1px solid var(--neon-blue); padding: 20px; background: rgba(255,255,255,0.05); text-align: left; }

        .graph-area { display: flex; gap: 20px; width: 100%; justify-content: center; margin-top: 20px; flex-wrap: wrap; }
        .graph-container { background: #000; border: 1px solid #333; padding: 10px; width: 45%; min-width: 400px; }
        .bars { display: flex; align-items: flex-end; justify-content: space-between; height: 150px; border-bottom: 1px solid white; padding: 0 5px 5px 5px; }
        .bar-col { width: 18px; background: var(--neon-green); position: relative; cursor: pointer; transition: 0.3s; }
        .bar-col.spent { background: var(--neon-red); }
        .month-label { font-size: 9px; position: absolute; bottom: -20px; left: 50%; transform: translateX(-50%); color: #888; }
        
        .goal-wrap { width: 100%; background: #222; height: 35px; margin: 20px 0; position: relative; border-radius: 5px; overflow: hidden; border: 1px solid #444; }
        #goal-fill { height: 100%; background: var(--neon-green); width: 0%; transition: 0.8s ease-out; }
    </style>
</head>
<body>

    <div id="login-screen" class="screen" style="display: flex;">
        <div class="box">
            <h2>SYSTEM ACCESS</h2>
            <div id="lockout-timer" style="color:var(--neon-red); font-weight:bold; display:none; margin-bottom:10px;">LOCKED: <span id="seconds">30</span>s</div>
            <input type="password" id="passInput" placeholder="ENTER KEY">
            <button class="btn-blue" id="loginBtn" onclick="checkPass()">VALIDATE</button>
            <p id="error-msg" style="color:var(--neon-red); font-size:0.8em; margin-top:10px;"></p>
        </div>
    </div>

    <div id="system-lock" class="screen">
        <div class="box" style="border-color: var(--neon-red);">
            <h1 style="color: var(--neon-red);">CRITICAL LOCKOUT</h1>
            <p>10 Failed attempts. Access Revoked.</p>
            <input type="text" id="restoreInput" placeholder="ENTER 18GB">
            <button class="btn-red" onclick="restoreSystem()">RESTORE SYSTEM</button>
        </div>
    </div>

    <div id="loading-screen" class="screen">
        <div class="spinner"></div>
        <h1 id="pct">0%</h1>
        <p>DECRYPTING MODULES...</p>
    </div>

    <div id="continue-screen" class="screen" onclick="showAccessGranted()" style="cursor:pointer">
        <h2 class="fade-text">DECRYPTION SUCCESSFUL</h2>
        <p style="color: var(--neon-green);">CLICK ANYWHERE TO CONTINUE</p>
    </div>

    <div id="granted-screen" class="screen">
        <h1 style="color:var(--neon-green); letter-spacing: 5px;">ACCESS GRANTED</h1>
    </div>

    <div id="dashboard-1" class="screen">
        <div class="dashboard-container">
            <div class="nav-header"><button class="btn-red" onclick="location.reload()">LOG OUT</button></div>
            <div class="project-grid">
                <div class="project-box"><h3>Project 1</h3><p>Astronaut project: Monday completion</p></div>
                <div class="project-box"><h3>Project 2</h3><p>In progress: Create Black Dragon and Red Octopus</p></div>
            </div>
            <button class="btn-light-blue" style="margin-top:50px; padding: 20px;" onclick="showDashboard2()">NEXT PAGE: FINANCIAL TRACKING</button>
        </div>
    </div>

    <div id="dashboard-2" class="screen">
        <div class="dashboard-container">
            <div class="nav-header"><button class="btn-red" onclick="location.reload()">LOG OUT</button></div>
            <h2 id="yearTitle">2026 YEARLY REVENUE</h2>
            
            <div class="graph-area">
                <div class="graph-container"><h4>Money Earned ($)</h4><div id="earnedBars" class="bars"></div></div>
                <div class="graph-container"><h4>Money Spent ($)</h4><div id="spentBars" class="bars"></div></div>
            </div>

            <div class="box" style="margin-top:20px; width:100%; max-width:700px; border-color: var(--neon-green);">
                <h3>Yearly Calculator</h3>
                <p>Earned: $<span id="calcEarned">0</span> | Spent: $<span id="calcSpent">0</span></p>
                <div class="goal-wrap"><div id="goal-fill"></div></div>
                <p id="goalText">$0 / $120</p>
            </div>

            <button class="btn-blue" style="margin-top:20px;" onclick="advanceYear()">RESET AND ADVANCE YEAR</button>
            <button class="btn-light-blue" style="margin-top:10px;" onclick="showDashboard1()">BACK TO PROJECTS</button>
        </div>
    </div>

    <script>
        let attempts = 0;
        let timerUsed = false;
        let currentYear = parseInt(localStorage.getItem('eliteYear')) || 2026;
        let earnedData = JSON.parse(localStorage.getItem('earnedData')) || Array(12).fill(0);
        let spentData = JSON.parse(localStorage.getItem('spentData')) || Array(12).fill(0);
        const months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];

        function checkPass() {
            const input = document.getElementById('passInput');
            const err = document.getElementById('error-msg');

            if(input.value === "printing4") {
                runLoading();
            } else {
                attempts++;
                if(attempts >= 10) {
                    showScreen('system-lock');
                } else if (attempts >= 5 && !timerUsed) {
                    startLockout();
                } else {
                    err.innerText = `Invalid Key. Attempt ${attempts}/10`;
                }
            }
        }

        function startLockout() {
            timerUsed = true;
            const btn = document.getElementById('loginBtn');
            const input = document.getElementById('passInput');
            const timerBox = document.getElementById('lockout-timer');
            const secDisplay = document.getElementById('seconds');
            let timeLeft = 30;

            btn.disabled = true;
            input.disabled = true;
            timerBox.style.display = 'block';

            const countdown = setInterval(() => {
                timeLeft--;
                secDisplay.innerText = timeLeft;
                if(timeLeft <= 0) {
                    clearInterval(countdown);
                    btn.disabled = false;
                    input.disabled = false;
                    timerBox.style.display = 'none';
                    document.getElementById('error-msg').innerText = "Attempts resumed.";
                }
            }, 1000);
        }

        function restoreSystem() {
            if(document.getElementById('restoreInput').value === "18gb") {
                attempts = 0;
                timerUsed = false; // Reset timer flag if restored
                showScreen('login-screen');
                document.getElementById('error-msg').innerText = "System Restored.";
            }
        }

        function runLoading() {
            showScreen('loading-screen');
            const pct = document.getElementById('pct');
            setTimeout(() => { pct.innerText = "48%"; 
                setTimeout(() => { pct.innerText = "99%"; 
                    setTimeout(() => { pct.innerText = "100%"; 
                        setTimeout(() => { showScreen('continue-screen'); }, 3000);
                    }, 3000);
                }, 5000);
            }, 3000);
        }

        function showAccessGranted() {
            showScreen('granted-screen');
            setTimeout(() => { showDashboard1(); }, 2000);
        }

        function renderGraphs() {
            const eContainer = document.getElementById('earnedBars');
            const sContainer = document.getElementById('spentBars');
            eContainer.innerHTML = ''; sContainer.innerHTML = '';
            document.getElementById('yearTitle').innerText = `${currentYear} YEARLY REVENUE`;

            for(let i=0; i<12; i++) {
                eContainer.appendChild(createBar(i, earnedData[i], 'earned'));
                sContainer.appendChild(createBar(i, spentData[i], 'spent'));
            }
            updateStats();
        }

        function createBar(index, value, type) {
            const col = document.createElement('div');
            col.className = `bar-col ${type === 'spent' ? 'spent' : ''}`;
            col.style.height = `${value}%`;
            col.onclick = () => {
                let newVal = prompt(`Enter ${type} amount (0-100):`, value);
                if(newVal !== null) {
                    newVal = Math.min(100, Math.max(0, parseInt(newVal) || 0));
                    if(type === 'earned') earnedData[index] = newVal;
                    else spentData[index] = newVal;
                    saveData();
                    renderGraphs();
                }
            };
            const label = document.createElement('span');
            label.className = 'month-label';
            label.innerText = months[index];
            col.appendChild(label);
            return col;
        }

        function updateStats() {
            const totalEarned = earnedData.reduce((a, b) => a + b, 0);
            const totalSpent = spentData.reduce((a, b) => a + b, 0);
            document.getElementById('calcEarned').innerText = totalEarned;
            document.getElementById('calcSpent').innerText = totalSpent;
            
            const goalPct = (totalEarned / 120) * 100;
            document.getElementById('goal-fill').style.width = `${Math.min(100, goalPct)}%`;
            document.getElementById('goalText').innerText = `$${totalEarned} / $120`;
        }

        function advanceYear() {
            if(confirm("Reset data and advance to " + (currentYear + 1) + "?")) {
                currentYear++;
                earnedData = Array(12).fill(0);
                spentData = Array(12).fill(0);
                saveData();
                renderGraphs();
            }
        }

        function saveData() {
            localStorage.setItem('eliteYear', currentYear);
            localStorage.setItem('earnedData', JSON.stringify(earnedData));
            localStorage.setItem('spentData', JSON.stringify(spentData));
        }

        function showScreen(id) {
            document.querySelectorAll('.screen').forEach(s => s.style.display = 'none');
            document.getElementById(id).style.display = 'flex';
        }

        function showDashboard1() { showScreen('dashboard-1'); }
        function showDashboard2() { showScreen('dashboard-2'); renderGraphs(); }
    </script>
</body>
</html>
