<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elite 4 | Command Center</title>
    <style>
        :root { --neon-blue: #00d4ff; --neon-green: #39FF14; --neon-red: #ff4d4d; --grid-color: rgba(0, 212, 255, 0.1); }
        body { background: #0b101b; color: white; font-family: 'Courier New', monospace; margin: 0; overflow: hidden; display: flex; justify-content: center; align-items: center; min-height: 100vh; user-select: none; }
        
        /* Security Elements */
        .box { border: 2px solid var(--neon-blue); padding: 30px; border-radius: 15px; background: rgba(0,0,0,0.95); text-align: center; width: 90%; max-width: 500px; position: relative; }
        .input-container { position: relative; width: 85%; margin: 15px auto; }
        input { background: #000; border: 1px solid var(--neon-blue); color: var(--neon-green); padding: 12px; width: 100%; text-align: center; outline: none; font-size: 1.2em; box-sizing: border-box; border-radius: 5px; }
        .eye-btn { position: absolute; right: 10px; top: 50%; transform: translateY(-50%); cursor: pointer; color: var(--neon-blue); font-size: 1.2em; }
        
        button { cursor: pointer; font-weight: bold; transition: 0.3s; border: none; padding: 10px 20px; border-radius: 4px; }
        button:disabled { background: #444 !important; color: #888 !important; cursor: not-allowed; }
        .btn-blue { background: var(--neon-blue); color: black; }
        .btn-red { background: var(--neon-red); color: white; }
        .btn-light-blue { background: #add8e6; color: black; }
        
        .screen { display: none; width: 100%; height: 100vh; justify-content: center; align-items: center; flex-direction: column; position: absolute; }
        
        /* Loading & Transitions */
        .spinner { border: 5px solid rgba(0,212,255,0.1); border-left-color: var(--neon-green); border-radius: 50%; width: 50px; height: 50px; animation: spin 1s linear infinite; margin-bottom: 20px; }
        @keyframes spin { 100% { transform: rotate(360deg); } }
        .fade-text { color: var(--neon-green); font-size: 1.8em; animation: pulse 2.5s infinite; text-shadow: 0 0 10px var(--neon-green); }
        @keyframes pulse { 0%, 100% { opacity: 0.1; } 50% { opacity: 1; } }

        /* Dashboard Core */
        .dashboard-container { width: 98%; max-width: 1400px; height: 95vh; overflow-y: auto; background: rgba(0,0,0,0.9); border: 1px solid var(--neon-blue); padding: 25px; display: flex; flex-direction: column; align-items: center; border-radius: 15px; box-sizing: border-box; }
        .project-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; width: 100%; margin-top: 20px; }
        .project-box { border: 1px solid var(--neon-blue); padding: 25px; background: rgba(255,255,255,0.05); text-align: left; border-radius: 10px; }

        /* BIG GRAPHS */
        .graph-area { display: flex; gap: 30px; width: 100%; justify-content: center; margin-top: 20px; flex-wrap: nowrap; }
        .graph-container { 
            background: #000; 
            border: 1px solid #333; 
            padding: 30px 20px 40px 20px; 
            width: 48%; 
            border-radius: 12px; 
            position: relative;
            background-image: linear-gradient(var(--grid-color) 1px, transparent 1px), linear-gradient(90deg, var(--grid-color) 1px, transparent 1px);
            background-size: 100% 30px;
        }
        .bars { display: flex; align-items: flex-end; justify-content: space-around; height: 300px; border-bottom: 2px solid white; position: relative; touch-action: none; }
        
        .bar-col { width: 35px; background: var(--neon-green); position: relative; cursor: ns-resize; border-radius: 4px 4px 0 0; box-shadow: 0 0 15px rgba(57, 255, 20, 0.2); }
        .bar-col.spent { background: var(--neon-red); box-shadow: 0 0 15px rgba(255, 77, 77, 0.2); }
        
        .bar-label { position: absolute; top: -30px; left: 50%; transform: translateX(-50%); font-size: 12px; font-weight: bold; color: white; background: #000; padding: 4px 8px; border-radius: 4px; display: none; border: 1px solid var(--neon-blue); z-index: 10; }
        .bar-col:hover .bar-label, .bar-col.active .bar-label { display: block; }
        .month-label { font-size: 11px; position: absolute; bottom: -30px; left: 50%; transform: translateX(-50%); color: #aaa; pointer-events: none; font-weight: bold; }
        
        /* Stats & Calculator Layout */
        .bottom-grid { display: grid; grid-template-columns: 350px 1fr; gap: 25px; width: 100%; margin-top: 30px; }
        .calc-box { display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; margin-top: 10px; background: #111; padding: 15px; border-radius: 10px; border: 1px solid #333; }
        #calc-display { grid-column: span 4; background: #000; color: var(--neon-green); border: 1px solid var(--neon-blue); text-align: right; padding: 15px; font-size: 1.5em; min-height: 35px; border-radius: 5px; margin-bottom: 10px; }
        .calc-btn { background: #333; color: white; padding: 18px; font-size: 1.2em; border-radius: 5px; cursor: pointer; transition: 0.2s; }
        .calc-btn:hover { background: var(--neon-blue); color: black; }

        .goal-wrap { width: 100%; background: #222; height: 45px; margin: 25px 0; position: relative; border-radius: 8px; overflow: hidden; border: 1px solid #444; }
        #goal-fill { height: 100%; background: linear-gradient(90deg, #1a5c11, var(--neon-green)); width: 0%; transition: 0.5s ease-out; }
    </style>
</head>
<body oncontextmenu="return false;">

    <div id="login-screen" class="screen" style="display: flex;">
        <div class="box">
            <h1 style="letter-spacing: 3px; color: var(--neon-blue);">SYSTEM LOGIN</h1>
            <div id="lockout-timer" style="color:var(--neon-red); font-weight:bold; display:none; margin-bottom:10px;">LOCKED: <span id="seconds">30</span>s</div>
            <div class="input-container">
                <input type="password" id="passInput" placeholder="ACCESS KEY">
                <span class="eye-btn" onclick="togglePass()">üëÅÔ∏è</span>
            </div>
            <button class="btn-blue" id="loginBtn" onclick="checkPass()">VALIDATE</button>
            <p id="error-msg" style="color:var(--neon-red); font-size:0.8em; margin-top:10px;"></p>
        </div>
    </div>

    <div id="system-lock" class="screen">
        <div class="box" style="border-color: var(--neon-red);">
            <h1 style="color: var(--neon-red);">TERMINAL ENCRYPTED</h1>
            <p>Multiple failed attempts. System Lockdown.</p>
            <input type="text" id="restoreInput" placeholder="ENTER RESTORE CODE">
            <button class="btn-red" onclick="restoreSystem()">RESTORE</button>
        </div>
    </div>

    <div id="loading-screen" class="screen">
        <div class="spinner"></div>
        <h1 id="pct">0%</h1>
        <p>REBUILDING DATABASE ARCHIVE...</p>
    </div>

    <div id="continue-screen" class="screen" onclick="showAccessGranted()" style="cursor:pointer">
        <h2 class="fade-text">RECOVERY COMPLETE</h2>
        <p style="color: var(--neon-green);">CLICK TO INITIALIZE DASHBOARD</p>
    </div>

    <div id="granted-screen" class="screen">
        <h1 style="color:var(--neon-green); letter-spacing: 12px; text-shadow: 0 0 20px var(--neon-green);">ACCESS GRANTED</h1>
    </div>

    <div id="dashboard-1" class="screen">
        <div class="dashboard-container">
            <div style="width:100%; display:flex; justify-content:space-between; align-items:center; border-bottom: 1px solid #333; padding-bottom: 15px;">
                <h2 style="color:var(--neon-blue); margin:0;">ACTIVE OPERATIONS</h2>
                <button class="btn-red" onclick="location.reload()">TERMINATE SESSION</button>
            </div>
            <div class="project-grid">
                <div class="project-box">
                    <h3 style="color:var(--neon-green)">PROJECT: ASTRONAUT</h3>
                    <p>Status: Pending Finalization</p>
                    <p>Deadline: Monday completion</p>
                </div>
                <div class="project-box">
                    <h3 style="color:var(--neon-blue)">PROJECT: ORGANIC FORMS</h3>
                    <p>Current Task: Black Dragon and Red Octopus</p>
                    <p>Status: In-Progress</p>
                </div>
            </div>
            <button class="btn-light-blue" style="margin-top:auto; padding: 30px; width: 100%; font-size:1.5em;" onclick="showDashboard2()">OPEN FINANCIAL ANALYTICS</button>
        </div>
    </div>

    <div id="dashboard-2" class="screen">
        <div class="dashboard-container">
            <div style="width:100%; display:flex; justify-content:space-between; align-items:center; border-bottom: 1px solid #333; padding-bottom: 10px;">
                <h2 id="yearTitle" style="margin:0;">2026 REVENUE TERMINAL</h2>
                <button class="btn-red" onclick="location.reload()">LOG OUT</button>
            </div>
            
            <div class="graph-area">
                <div class="graph-container">
                    <h4 style="color:var(--neon-green); margin-top:0;">YEARLY EARNINGS ($)</h4>
                    <div id="earnedBars" class="bars"></div>
                </div>
                <div class="graph-container">
                    <h4 style="color:var(--neon-red); margin-top:0;">YEARLY EXPENDITURE ($)</h4>
                    <div id="spentBars" class="bars"></div>
                </div>
            </div>

            <div class="bottom-grid">
                <div style="background: rgba(255,255,255,0.05); padding: 20px; border-radius: 12px; border: 1px solid #333;">
                    <div id="calc-display">0</div>
                    <div class="calc-box">
                        <button class="calc-btn" onclick="calcAppend('7')">7</button><button class="calc-btn" onclick="calcAppend('8')">8</button><button class="calc-btn" onclick="calcAppend('9')">9</button><button class="calc-btn" onclick="calcAppend('/')">/</button>
                        <button class="calc-btn" onclick="calcAppend('4')">4</button><button class="calc-btn" onclick="calcAppend('5')">5</button><button class="calc-btn" onclick="calcAppend('6')">6</button><button class="calc-btn" onclick="calcAppend('*')">*</button>
                        <button class="calc-btn" onclick="calcAppend('1')">1</button><button class="calc-btn" onclick="calcAppend('2')">2</button><button class="calc-btn" onclick="calcAppend('3')">3</button><button class="calc-btn" onclick="calcAppend('-')">-</button>
                        <button class="calc-btn" onclick="calcClear()">C</button><button class="calc-btn" onclick="calcAppend('0')">0</button><button class="calc-btn" onclick="calcResult()">=</button><button class="calc-btn" onclick="calcAppend('+')">+</button>
                    </div>
                </div>

                <div style="background: rgba(255,255,255,0.05); padding: 20px; border-radius: 12px; border: 1px solid var(--neon-green); text-align: center;">
                    <h3 style="margin:0;">ANNUAL TARGET PROGRESS</h3>
                    <div style="display:flex; justify-content: space-around; margin: 20px 0;">
                        <div><small>TOTAL EARNED</small><h2 id="calcEarned" style="color:var(--neon-green); margin:5px 0;">$0</h2></div>
                        <div><small>TOTAL SPENT</small><h2 id="calcSpent" style="color:var(--neon-red); margin:5px 0;">$0</h2></div>
                    </div>
                    <div class="goal-wrap"><div id="goal-fill"></div></div>
                    <p id="goalText" style="font-weight:bold; font-size: 1.2em;">$0 / $120</p>
                    <div style="display: flex; gap: 10px;">
                        <button class="btn-blue" style="flex:1" onclick="advanceYear()">ADVANCE FISCAL YEAR</button>
                        <button class="btn-light-blue" style="flex:1" onclick="showDashboard1()">RETURN TO PROJECTS</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let attempts = 0, timerUsed = false, isDragging = false;
        let currentYear = parseInt(localStorage.getItem('eliteYear')) || 2026;
        let earnedData = JSON.parse(localStorage.getItem('earnedData')) || Array(12).fill(0);
        let spentData = JSON.parse(localStorage.getItem('spentData')) || Array(12).fill(0);
        const months = ['JAN','FEB','MAR','APR','MAY','JUN','JUL','AUG','SEP','OCT','NOV','DEC'];

        function togglePass() {
            const pin = document.getElementById('passInput');
            pin.type = pin.type === "password" ? "text" : "password";
        }

        function checkPass() {
            const input = document.getElementById('passInput');
            if(input.value === "printing4") { runLoading(); }
            else {
                attempts++;
                if(attempts >= 10) showScreen('system-lock');
                else if (attempts >= 5 && !timerUsed) startLockout();
                else document.getElementById('error-msg').innerText = `ACCESS DENIED: ${attempts}/10`;
            }
        }

        function startLockout() {
            timerUsed = true;
            const btn = document.getElementById('loginBtn'), input = document.getElementById('passInput');
            const timerBox = document.getElementById('lockout-timer'), secDisplay = document.getElementById('seconds');
            let timeLeft = 30;
            btn.disabled = true; input.disabled = true; timerBox.style.display = 'block';
            const countdown = setInterval(() => {
                timeLeft--; secDisplay.innerText = timeLeft;
                if(timeLeft <= 0) { clearInterval(countdown); btn.disabled = false; input.disabled = false; timerBox.style.display = 'none'; }
            }, 1000);
        }

        function restoreSystem() {
            if(document.getElementById('restoreInput').value.toLowerCase() === "18gb") {
                attempts = 0; timerUsed = false; showScreen('login-screen');
            }
        }

        function runLoading() {
            showScreen('loading-screen');
            const pct = document.getElementById('pct');
            setTimeout(() => { pct.innerText = "48%"; 
                setTimeout(() => { pct.innerText = "99%"; 
                    setTimeout(() => { pct.innerText = "100%"; 
                        setTimeout(() => showScreen('continue-screen'), 3000);
                    }, 3000);
                }, 5000);
            }, 3000);
        }

        function showAccessGranted() {
            showScreen('granted-screen');
            setTimeout(() => showDashboard1(), 2000);
        }

        function renderGraphs() {
            const eContainer = document.getElementById('earnedBars'), sContainer = document.getElementById('spentBars');
            eContainer.innerHTML = ''; sContainer.innerHTML = '';
            document.getElementById('yearTitle').innerText = `${currentYear} REVENUE TERMINAL`;
            for(let i=0; i<12; i++) {
                eContainer.appendChild(createBar(i, earnedData[i], 'earned'));
                sContainer.appendChild(createBar(i, spentData[i], 'spent'));
            }
            updateStats();
        }

        function createBar(index, value, type) {
            const col = document.createElement('div');
            col.className = `bar-col ${type === 'spent' ? 'spent' : ''}`;
            col.style.height = `${value}%`;
            
            const label = document.createElement('span');
            label.className = 'bar-label';
            label.innerText = `$${value}`;
            col.appendChild(label);

            const handleMove = (e) => {
                if (!isDragging) return;
                const rect = col.parentElement.getBoundingClientRect();
                const clientY = e.clientY || (e.touches ? e.touches[0].clientY : 0);
                const y = Math.max(0, Math.min(300, rect.bottom - clientY));
                const val = Math.round((y / 300) * 100);
                
                col.style.height = `${val}%`;
                label.innerText = `$${val}`;
                if(type === 'earned') earnedData[index] = val; else spentData[index] = val;
                updateStats();
            };

            col.onmousedown = (e) => { 
                isDragging = true; 
                col.classList.add('active');
                handleMove(e);
                window.onmousemove = handleMove;
                window.onmouseup = () => { 
                    isDragging = false; 
                    col.classList.remove('active');
                    window.onmousemove = null; 
                    saveData();
                    calcExpr = (type === 'earned' ? earnedData[index] : spentData[index]).toString();
                    document.getElementById('calc-display').innerText = calcExpr;
                };
            };

            const mLabel = document.createElement('span');
            mLabel.className = 'month-label'; mLabel.innerText = months[index];
            col.appendChild(mLabel);
            return col;
        }

        function updateStats() {
            const tEarned = earnedData.reduce((a, b) => a + b, 0), tSpent = spentData.reduce((a, b) => a + b, 0);
            document.getElementById('calcEarned').innerText = `$${tEarned}`;
            document.getElementById('calcSpent').innerText = `$${tSpent}`;
            document.getElementById('goal-fill').style.width = `${Math.min(100, (tEarned / 120) * 100)}%`;
            document.getElementById('goalText').innerText = `$${tEarned} / $120`;
        }

        function advanceYear() {
            if(confirm("Confirm Year Reset? All graph data will be cleared.")) {
                currentYear++; earnedData = Array(12).fill(0); spentData = Array(12).fill(0);
                calcClear(); saveData(); renderGraphs();
            }
        }

        function saveData() {
            localStorage.setItem('eliteYear', currentYear);
            localStorage.setItem('earnedData', JSON.stringify(earnedData));
            localStorage.setItem('spentData', JSON.stringify(spentData));
        }

        let calcExpr = "";
        function calcAppend(val) { calcExpr += val; document.getElementById('calc-display').innerText = calcExpr; }
        function calcClear() { calcExpr = ""; document.getElementById('calc-display').innerText = "0"; }
        function calcResult() {
            try { 
                let res = eval(calcExpr);
                calcExpr = (res === undefined) ? "0" : res.toString();
                document.getElementById('calc-display').innerText = calcExpr; 
            }
            catch { calcExpr = ""; document.getElementById('calc-display').innerText = "ERR"; }
        }

        function showScreen(id) {
            document.querySelectorAll('.screen').forEach(s => s.style.display = 'none');
            document.getElementById(id).style.display = 'flex';
        }
        function showDashboard1() { showScreen('dashboard-1'); }
        function showDashboard2() { showScreen('dashboard-2'); renderGraphs(); }
    </script>
</body>
</html>
